<!DOCTYPE html>

<link rel="import" href="../../../packages/polymer/polymer.html">

<link rel="import" href="../../../packages/core_elements/core_input.html">
<link rel="import" href="../../../packages/core_elements/core_icons.html">

<link rel="import" href="../../../packages/cs_elements/qrcode/qrcode.html">
<link rel="import" href="../../../packages/cs_elements/json_form/json_form.html">
<link rel="import" href="../../../packages/cs_elements/money_input/money_input.html">

<link rel="import" href="../../../packages/cs_elements/form_controls/form_controls.html">

<polymer-element name="asset-details" attributes="qrcode formMethod">
	<template>
    <style>
      /*  FIXME: These don't work as expected.
       *  I've put them in a global stylesheet on asset.html
       */
      -webkit-distributed input[is=core-input]#name {
	      font-size: 2em;
	    }
	    -webkit-distributed input[is=core-input].editable {
	      border: 1px solid lightgrey;
	    }
	  
	    .invalid {
	      background-color: red;
	    }
	   
	    label {
	      color: blue; 
	    }
	  </style>
    <form is="cs-json-form" method="{{formMethod}}" id="assetForm" layout vertical>
      
      <div id="nameContainer" layout horizontal>
        <content select="input[name=name]"></content>
        <!-- 
        <input is="core-input" id="name" type="text" 
               name="name" value="{{name}}" 
               disabled>
        -->
        <cs-form-control-panel state="{{formControlState}}">
          <cs-form-control visibleState="disabled">
            <core-icon icon="create" on-click="{{editForm}}">
          </cs-form-control>
          <cs-form-control visibleState="enabled">
            <core-icon icon="save" on-click="{{saveForm}}"></core-icon>
          </cs-form-control>
         <cs-form-control visibleState="enabled">
           <core-icon icon="cancel" on-click="{{resetForm}}"></core-icon>
         </cs-form-control>
        </cs-form-control-panel>
      </div>
      <div id="outputContainer" layout horizontal>
        <cs-qrcode id="qrcode" value="{{qrcode}}"
                               correctionLevel="low"
                               width="64"
                               height="64">
        </cs-qrcode>
        
        <div id="detailsContainer" layout vertical>
          <content></content>
        </div>  
      </div>
      <input type="hidden" name="kind" value="assets#asset" />
    </form>
	</template>
	<script type="application/dart" src="asset_details.dart"></script>
</polymer-element>