<!DOCTYPE html>

<link rel="import" href="../../../packages/polymer/polymer.html">

<link rel="import" href="../../../packages/core_elements/core_input.html">
<link rel="import" href="../../../packages/core_elements/core_icons.html">

<link rel="import" href="../../../packages/cs_elements/qrcode/qrcode.html">
<link rel="import" href="../../../packages/cs_elements/json_form/json_form.html">

<polymer-element name="asset-details">
	<template>
    <style>
      :host /deep/ input[is=core-input]#name {
	      font-size: 2em;
	    }
	    :host /deep/ input[is=core-input].editable {
	      border: 1px solid lightgrey;
	    }
	  
	    .invalid {
	      background-color: red;
	    }
	   
	    label {
	      color: blue;
	    }
	  </style>
    <form is="cs-json-form" method="post" id="mainform" layout vertical>
      <div id="nameContainer" layout horizontal>
        <input is="core-input" id="name" type="text" value="{{name}}" disabled?="{{formDisabled}}"/>
	     
	      <template if="{{formDisabled}}">
	       <core-icon icon="create" on-click="{{toggleForm}}"></core-icon>
	      </template>
	      <template if="{{!formDisabled}}">
	        <core-icon icon="cancel" on-click="{{toggleForm}}"></core-icon>
	      </template>
	    </div>
	    <div id="contentContainer" layout horizontal>
	      <cs-qrcode id="qrcode"
	                 value="{{qrcode}}"
	                 correctionLevel="low"
	                 width="64"
	                 height="64">
	      </cs-qrcode>
	      <div id="detailsContainer" layout vertical>
	        <label>Description
	          <input is="core-input" 
	                 value="{{description}}" 
	                 disabled?="{{formDisabled}}"/>
	        </label>
	        <label>Price
	          <input is="core-input"
	                 value="{{price}}"
	                 disabled?="{!formDisabled}}"/>
	        </label>
	       
	        <template if="{{!formDisabled}}">
	          <input type="submit" value="Save"/>
	        </template>
	      </div>
	    </div>
	  </form>
	</template>
	<script type="application/dart" src="asset_details.dart"></script>
</polymer-element>