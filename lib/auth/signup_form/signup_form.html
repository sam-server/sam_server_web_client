<!DOCTYPE html>

<link rel="import" href="../../../../packages/polymer/polymer.html">
<link rel="import" href="../../../../packages/core_elements/core_input.html">
<link rel="import" href="../../../../packages/core_elements/core_icons.html">
<link rel="import" href="../../../../packages/cs_elements/json_form/json_form.html">
<link rel="import" href="../../../../packages/cs_elements/form_controls/form_controls.html">

<link rel="import" href="../password_strength/password_strength.html">

<polymer-element name="signup-form">
  <template>
    <style>
      input[is=core-input] {
        display: block;
      }
      #errorContainer {
        height: 1em;
      }
    </style>
    <form is="cs-json-form" method="POST" id="mainform">
      <div id="usernameInput" layout horizontal>
        <input is="core-input" type="text" name="username" placeholder="Username" 
               value="{{username}}" required/>
               
        <cs-form-control-panel enabled?="{{formDisabled}}">
          <cs-form-control visibleState="disabled">
            <core-icon icon="save" on-click="{{submitForm}}"></core-icon>
          </cs-form-control>
        </cs-form-control-panel>
      </div>
      <input is="core-input" type="email" name="email" id="email" placeholder="Email" 
             value="{{email}}" required/>
      <div layout horizontal>
        <input is="core-input" type="password" name="password" id="password" placeholder="Password" 
               value="{{password}}" required>
        <password-strength password="{{password}}" id="passwordStrength"></password-strength>
        
      </div>
      <input is="core-input" type="password" id="confirmPassword" placeholder ="Re-enter password"/>
      <input type="hidden" name="auth_type" value="userpass"/>
      <div id="errorContainer">{{errorMessage}}</div>
    </form>
  </template>
  <script type="application/dart" src="signup_form.dart"></script>
</polymer-element>