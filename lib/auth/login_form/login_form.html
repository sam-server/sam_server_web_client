<!DOCTYPE html>

<link rel="import" href="../../../../packages/polymer/polymer.html">
<link rel="import" href="../../../../packages/core_elements/core_input.html">

<link rel="import" href="../../../../packages/polymer_ajax_form/ajax_form.html">

<polymer-element name="login-form">
  <template>
    <style>
      #errorContainer {
        height: 1em;
      }
    </style>
    <form is="ajax-form" enctype="application/json"
                         headers="{{session.sessionHeaders}}"
                         method="POST"
                         handleAs="json">
      <div id="inputContainer" layout vertical>
	      <input is="core-input" type="text" name="username" 
	             value="{{username}}"
	             placeholder="Username">
	      <input is="core-input" type="password" name="password"
	             value="{{password}}"
	             placeholder="Password"/>
	      <input is="core-input" type="password" id="confirmPassword" value="{{confirmPassword}}"
	             on-blur="{{checkConfirmPassword}}" on-key-down="{{checkConfirmPassword}}"
	             placeholder="Re-enter password">
	      <label>
	         <input is="core-input" type="checkbox" name="remembered">
	         Remember me on this computer
	      </label>
	    </div>
	    <div id="errorContainer">{{errorMessage}}</div>
	    <input type="submit" value="Login" on-click="{{submitForm}}">
      <input type="hidden" name="kind" value="authentication#user">
    </form>
  </template>
  <script type="application/dart" src="login_form.dart"></script>
  
</polymer-element>